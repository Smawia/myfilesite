{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <h1 class="spe-h1"> الدراسات</h1>
    <div class="show-all-studies">
        {% for data in page.object_list %}
        <div class="studies-card">
            <a href="{{ data.url }}">
                <img src="{{ data.image.url }}" alt="">
            </a>
            <a href="{{ data.url }}">
                <div class="study-text-info">
                    <p>{{data.subject}}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
<div class="pagination">
    <div class="p-row">
        <div class="p-column">
            <ul class="p-ul">
                <li class="p-item">
                    {% if not page.has_previous %}
                    <a href="{% url 'studies' %}?page=1" class="p-link first" hidden>الأول</a>
                    {% else %}
                    <a href="{% url 'studies' %}?page=1" class="p-link first">الأول</a>
                    {% endif %}
                </li>
                <li class="p-item disabled">
                    {% if page.has_previous %}
                    <a href="{% url 'studies' %}?page={{page.previous_page_number}}" class="p-link pre">السابق</a>
                    {% endif %}
                </li>
                {% for num_page in page.paginator.page_range %}
                {% if page.number == num_page %}
                <li class="p-item">
                    <a href="{% url 'studies' %}?page={{num_page}}" class="p-link active">{{num_page}}</a>
                </li>
                {% else %}
                <li class="p-item">
                    <a href="{% url 'studies' %}?page={{num_page}}" class="p-link">{{num_page}}</a>
                </li>
                {% endif %}
                {% endfor %}
                <li class="p-item disabled">
                    {% if page.has_next %}
                    <a href="{% url 'studies' %}?page={{page.next_page_number}}" class="p-link next">التالي</a>
                    {% endif %}
                </li>
                <!-- زر "الأخير" -->
                <li class="p-item">
                    {% if not page.has_next %}
                    <a class="p-link disabled" hidden>الأخير</a>
                    {% else %}
                    <a href="{% url 'studies' %}?page={{ page.paginator.num_pages }}" class="p-link last">الأخير</a>
                    {% endif %}
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}